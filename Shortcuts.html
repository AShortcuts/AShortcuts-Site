<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="img/ASlogo.png">
    <link rel="apple-touch-icon" href="img/ASlogo.png">

    <title>AShortcuts Shortcuts</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');
        @import url('https://db.onlinewebfonts.com/c/23f6a3ef666a3eb2b4a69dd71f693343?family=Whitney-Semibold');
        body {
            font-family: Whitney-Semibold;
            font-weight: 200;
            font-size: 23px;
            text-align: center;
        }
        
        h1 {
            font-family: Lato;
            font-weight: bold;
            margin-bottom: 0;
            text-shadow: 0px 0px 3px #ff0000;
        }
        
        h2 {
            margin-top: 5px;
            font-family: Lato;
            font-weight: bold;
            text-shadow: 0px 0px 3px aqua;
            display: inline-block;
        }
        
        .shortcut_badge {
            display: inline-block;
            height: 40px;
            margin: 5px 3px -5px 3px;
        }
        
        .shortcut-container {
            /* background: linear-gradient(145deg, dodgerblue 19%, rgba(253, 29, 29, 1) 58%, rgba(252, 176, 69, 1) 85%); */
            /* background: linear-gradient(145deg, dodgerblue 19%, rgba(253, 29, 29, 1) 80%); */
            background: linear-gradient(145deg, rgba(253, 29, 29, 1), #f06d06);
            border-radius: 15px;
            padding: 12px;
            display: inline-block;
            margin: 10px;
            color: white;
            animation: fadein 2s linear;
        }
        
        .shortcut-container:hover {
            opacity: 0.75;
        }
        
        .shortcut-container:active {
            opacity: 0.50;
        }
        
        @keyframes fadein {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        a {
            color: inherit;
            width: inherit;
            height: inherit;
            background: none;
            text-decoration: none;
        }
        
        .shortcut-icon {
            height: auto;
            width: 60px;
            border-radius: 20px;
            margin-top: -5px;
            border: 1px solid white;
        }
        
        .shortcut-name {
            margin-top: 3px;
        }
        
        .shortcut-subtitle {
            font-size: 12px;
        }
        
        .shortcut-version {
            font-size: 11px;
            margin-top: 5px;
            margin-bottom: 3px;
        }
        
        .download-shortcut {
            margin: 5px 40% -10px -3px;
            height: auto;
            background: none;
            width: 40px;
            /* font-size: 12px; */
            display: inline-block;
        }
        
        .shortcut-stats {
            text-align: center;
            margin-top: 5px;
            width: 80px;
            font-size: 10px;
            padding: 4px;
            background: lightgrey;
            border-radius: 20px;
            color: black;
            display: inline-block;
        }
        
        picture>img {
            /* Image Containers */
            height: 90px;
            width: 92%;
            opacity: 1;
            filter: invert(82%) sepia(100%) saturate(7500%) hue-rotate(99deg) brightness(112%) contrast(109%);
        }
        
        div:empty {
            display: none;
        }
        
        @media (prefers-color-scheme: dark) {
            body {
                background: black;
            }
            h1,
            h2 {
                color: #ddd;
            }
            picture>img {
                /* Image Containers */
                filter: invert(20%) sepia(100%) saturate(700%) hue-rotate(99deg) brightness(100%) contrast(100%);
                /*Aqua */
            }
        }
    </style>
</head>

<body>
    <h1><a href="https://routinehub.co/user/AShortcuts">AShortcut's</a></h1>
    <img src="https://i.imgur.com/lyFtz4F.png" class="shortcut_badge">
    <h2> Shortcuts</h2>
    <img src="https://i.imgur.com/lyFtz4F.png" class="shortcut_badge">
    <br>
    <picture>
        <source srcset="https://i.imgur.com/NKdPXK6.png" media="(prefers-color-scheme: dark)">
        <source srcset="https://i.imgur.com/9ytPsDE.png" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
        <img src="https://i.imgur.com/9ytPsDE.png">
    </picture>

    <div id="all-shortcuts">
        <!-- <div class="shortcut-container">
            <div class="shortcut-icon"></div>
            <div class="shortcut-name"></div>
            <div class="shortcut-subtitle"></div>
            <div class="shortcut-version"></div>
        </div> -->
    </div>
    <picture>
        <source srcset="https://i.imgur.com/6T3HsCH.png" media="(prefers-color-scheme: dark)">
        <source srcset="https://i.imgur.com/6R6ze4u.png" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
        <img src="https://i.imgur.com/6R6ze4u.png" width="1300">
    </picture>





    <script>
        window.onload = GetShortcuts();

        function RetrieveiCloudAPI(shortcut_data) {
            alert(hi);
        }

        function GetShortcuts() {
            var IDs = [815, 1206, 1411, 2380, 1951, 887, 1841, 1010, 1118, 2002, 2193, 2119, 1444, 1637, 603, 3771, 1044, 2387, 1763, 2500, 1993, 3920, 3003, 1013, 1860, 601, 598, 2118, 2386, 1412, 2450, 2106, 774, 1217, 2926, 855, 2088, 2384, 2409, 2379, 2260, 2499, 602, 1328, 1994, 1995, 3921, 2539, 4200];
            var Amount = IDs.length;
            $("h2").prepend(Amount)

            $.each(IDs, function(index, value) {
                var rhapi = "https://routinehub.co/api/v1/shortcuts/" + value + "/versions/latest";
                // var rhNewApi = "https://routinehub-api.glitch.me/shortcut/" + value;
                $.getJSON(rhapi, function(data) {
                    var rhurl = `https://routinehub.co/shortcut/${value}`
                    var Version = `${data.Version}`

                    var RDate = `${data.Release}`

                    const d = new Date(RDate)
                    const ye = new Intl.DateTimeFormat('en', {
                        year: 'numeric'
                    }).format(d)
                    const mo = new Intl.DateTimeFormat('en', {
                        month: '2-digit'
                    }).format(d)
                    const da = new Intl.DateTimeFormat('en', {
                        day: '2-digit'
                    }).format(d)

                    var ISOrdate = `${da}-${mo}-${ye}`

                    var RNotes = `${data.Notes}`
                    var downloadlink = `"https://routinehub.co/download/${data.id}"`
                    var iCloudURL = `${data.URL}`
                    var iCloudID = iCloudURL.replace("https://www.icloud.com/shortcuts/", "");
                    var iCloudAPI = `https://www.icloud.com/shortcuts/api/records/${iCloudID}`
                    var icon = `https://routinehub-assets.s3.amazonaws.com/media/shortcuts/icons/${iCloudID}.png`
                    var rhNewApi = `https://routinehub-api.glitch.me/shortcut/${value}`;

                    // $.getJSON(rhNewApi, RetrieveNewInfo(result))

                    //  var iCloudResults = `${RetrieveiCloudAPI(iCloudAPI)}`;
                    // $.getJSON(iCloudAPI, RetrieveiCloudAPI(hi))


                    $('#all-shortcuts').append("<div class=\"shortcut-container\"><a href=\"" + rhurl + "\"><img class=\"shortcut-icon\" src=\"" + icon + "\"></img><div class=\"shortcut-name\">Ultimate Power Mode</div><div class=\"shortcut-subtitle\">Mastery over your Battery</div><div class=\"shortcut-version\">v" + Version + " @ " + ISOrdate + "</div></a><a href=" + downloadlink + "><img class=\"download-shortcut\" src=\"https://i.imgur.com/WmgJJHh.png\"></img></a><div class=\"shortcut-stats\">♥️ &rlm;&rlm;&lrm;5 &lrm;&rlm;&rlm;&lrm; &lrm;&rlm;&rlm;&lrm; &lrm;&rlm;&rlm;&lrm; &lrm;&rlm;&rlm;&lrm;&lrm;⬇️&rlm;&rlm;&lrm; &rlm;&rlm; &lrm;1,000</div></div>")

                    // $('all-shortcuts').append("<div><div>" + icon + "</div><div class="shortcut-name"></div><div class="shortcut-subtitle"></div><div class="shortcut-version"> + Version + </div></div>
                    // ;
                });

                /* $.getJSON(iCloudAPI, function RetrieveiCloudInfo(shortcut_data) {
                    var Name = `${shortcut_data.name.value}`
                    alert(HI)
                }); */

            });
        }

        function RetrieveNewInfo(shortcut_data) {
            alert("Hi")
        }
    </script>
</body>

</html>
